(function($) {
    $.fn.textfill = function() {
        //maxFontSize = parseInt(maxFontSize, 10);
        return this.each(function(){
            var ourText = $('span', this),
                parent = ourText.parent(),
                maxWidth = parent.width() + 5,
                fontSize = parseInt(ourText.css('fontSize'), 10),
                multiplier = maxWidth/ourText.width(),
                newSize = (fontSize*(multiplier-0.1));
                //fs = (maxFontSize > 0 && newSize > maxFontSize) ? maxFontSize : newSize;
            	
            	ourText.css({'fontSize': newSize, 'whiteSpace': 'nowrap'});
            	
        });
    };
})(jQuery);